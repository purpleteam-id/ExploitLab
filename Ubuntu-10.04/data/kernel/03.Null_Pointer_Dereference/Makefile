obj-m += null_module.o

all:
	make -C /lib/modules/$(shell uname -r)/build M=$(PWD) modules

shellcode:
	gcc -o payload payload.s -nostdlib -Ttext=0
	objdump -d payload

exploit:
	gcc kernel_root_exploit.c -o kernel_root_exploit

clean:
	make -C /lib/modules/$(shell uname -r)/build M=$(PWD) clean
	rm -f -- kernel_root_exploit core payload
